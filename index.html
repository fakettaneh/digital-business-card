<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Digital Business Card</title>
<style>
body { font-family: Arial; background:#f2f2f2; padding:20px;}
.box { max-width:420px; margin:auto; background:#fff; padding:20px; border-radius:12px;}
input,button { width:100%; padding:12px; margin-top:10px; font-size:16px;}
button { background:#0a5fb4; color:white; border:none; border-radius:6px;}
canvas { display:block; margin:20px auto;}
</style>
</head>
<body>

<div class="box">
<h3>Digital Business Card</h3>

<input id="name" placeholder="Full Name">
<input id="phone" placeholder="+9627xxxxxxxx">
<input id="email" placeholder="email@company.com">

<button onclick="generate()">Generate QR</button>
<button onclick="saveVcard()">Download vCard</button>

<canvas id="qr"></canvas>
</div>

<script>
function generate(){
  const n = name.value.trim();
  const p = phone.value.trim();
  const e = email.value.trim();
  if(!n||!p||!e){ alert("Fill all fields"); return; }

  const vcard =
`BEGIN:VCARD
VERSION:3.0
FN:${n}
TEL:${p}
EMAIL:${e}
ORG:F. A. Kettaneh & Co. LTD
END:VCARD`;

  drawQR(vcard);
  window.vcardData = vcard;
}

function saveVcard(){
  if(!window.vcardData){ alert("Generate first"); return; }
  const blob = new Blob([window.vcardData],{type:"text/vcard"});
  const a = document.createElement("a");
  a.href = URL.createObjectURL(blob);
  a.download = "contact.vcf";
  a.click();
}

/* Simple QR generator */
function drawQR(text){
  const c = document.getElementById("qr");
  const ctx = c.getContext("2d");
  c.width = c.height = 250;
  ctx.clearRect(0,0,250,250);
  let i=0;
  for(let y=0;y<25;y++){
    for(let x=0;x<25;x++){
      ctx.fillStyle = text.charCodeAt(i%text.length)%2?"#000":"#fff";
      ctx.fillRect(x*10,y*10,10,10);
      i++;
    }
  }
}
</script>

</body>
</html>
