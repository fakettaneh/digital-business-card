<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Digital Business Card</title>
<style>
body{font-family:Arial;background:#f2f2f2;padding:20px}
.container{max-width:420px;margin:auto;background:#fff;padding:20px;border-radius:12px;}
input,button{width:100%;padding:12px;margin-top:10px;font-size:16px;}
button{background:#0a5fb4;color:#fff;border:none;border-radius:6px;cursor:pointer;}
img{display:block;margin:20px auto;max-width:100%;}
</style>
</head>
<body>

<div class="container">
<h3>Digital Business Card</h3>

<input id="name" placeholder="Full Name">
<input id="phone" placeholder="+9627xxxxxxxx">
<input id="email" placeholder="email@company.com">

<button onclick="generateQR()">Generate QR</button>
<img id="qr" style="display:none;">
<button onclick="downloadVCard()">Download vCard</button>
</div>

<script>
let currentVCard = "";

// توليد QR باستخدام API
function generateQR(){
  const n = document.getElementById("name").value.trim();
  const p = document.getElementById("phone").value.trim();
  const e = document.getElementById("email").value.trim();

  if(!n||!p||!e){ alert("Fill all fields"); return; }

  currentVCard =
`BEGIN:VCARD
VERSION:3.0
FN:${n}
TEL:${p}
EMAIL:${e}
ORG:F. A. Kettaneh & Co. LTD
END:VCARD`;

  const qrUrl = "https://api.qrserver.com/v1/create-qr-code/?size=300x300&data=" + encodeURIComponent(currentVCard);

  const img = document.getElementById("qr");
  img.src = qrUrl;
  img.style.display = "block";
}

// تحميل vCard
function downloadVCard(){
  if(!currentVCard){ alert("Generate QR first"); return; }
  const blob = new Blob([currentVCard],{type:"text/vcard"});
  const a = document.createElement("a");
  a.href = URL.createObjectURL(blob);
  a.download = "contact.vcf";
  a.click();
}
</script>

</body>
</html>
